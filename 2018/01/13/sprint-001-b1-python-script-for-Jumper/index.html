<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    <title>Python script for wechat Jumper | Quincey | mind in mind</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="Jumper">
    <meta name="description" content="Use python to control Android devices How adb works Connect the Android Device with ADB Wrapping ADB command with Python   Image Process Get the solider’s postion Get the next stop’s target position">
<meta name="keywords" content="Jumper">
<meta property="og:type" content="article">
<meta property="og:title" content="Python script for wechat Jumper">
<meta property="og:url" content="http://matlabchina.cn/2018/01/13/sprint-001-b1-python-script-for-Jumper/index.html">
<meta property="og:site_name" content="Quincey">
<meta property="og:description" content="Use python to control Android devices How adb works Connect the Android Device with ADB Wrapping ADB command with Python   Image Process Get the solider’s postion Get the next stop’s target position">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://project.jumper.matlabchina.cn/junper001.PNG">
<meta property="og:image" content="http://project.jumper.matlabchina.cn/jumper002.png">
<meta property="og:image" content="http://project.jumper.matlabchina.cn/jumper006.png">
<meta property="og:image" content="http://project.jumper.matlabchina.cn/jumper005.jpg">
<meta property="og:image" content="http://project.jumper.matlabchina.cn/chess_mark.png">
<meta property="og:image" content="http://project.jumper.matlabchina.cn/GaussianBlur.png">
<meta property="og:image" content="http://project.jumper.matlabchina.cn/edge_match.png">
<meta property="og:image" content="http://project.jumper.matlabchina.cn/top_img.png">
<meta property="og:image" content="http://project.jumper.matlabchina.cn/assumed_center.png">
<meta property="og:image" content="http://project.jumper.matlabchina.cn/real_center.png">
<meta property="og:image" content="http://project.jumper.matlabchina.cn/split_img.png">
<meta property="og:image" content="http://project.jumper.matlabchina.cn/link_img.png">
<meta property="og:image" content="http://project.jumper.matlabchina.cn/score.jpg">
<meta property="og:updated_time" content="2018-01-30T05:37:51.357Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Python script for wechat Jumper">
<meta name="twitter:description" content="Use python to control Android devices How adb works Connect the Android Device with ADB Wrapping ADB command with Python   Image Process Get the solider’s postion Get the next stop’s target position">
<meta name="twitter:image" content="http://project.jumper.matlabchina.cn/junper001.PNG">
    
        <link rel="alternate" type="application/atom+xml" title="Quincey" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/logo.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Quincey Svng</h5>
          <a href="mailto:salsa2010@foxmail.com" title="salsa2010@foxmail.com" class="mail">salsa2010@foxmail.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                Quincey Svng
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/SuperFireFoxy" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://www.weibo.com/salsa2010" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.facebook.com/felix.song.79" target="_blank" >
                <i class="icon icon-lg icon-link"></i>
                facebook
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Python script for wechat Jumper</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Python script for wechat Jumper</h1>
        <h5 class="subtitle">
            
                <time datetime="2018-01-13T05:08:49.000Z" itemprop="datePublished" class="page-time">
  2018-01-13
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/python/">python</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Use-python-to-control-Android-devices"><span class="post-toc-number">1.</span> <span class="post-toc-text">Use python to control Android devices</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#How-adb-works"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">How adb works</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Connect-the-Android-Device-with-ADB"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">Connect the Android Device with ADB</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Wrapping-ADB-command-with-Python"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">Wrapping ADB command with Python</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Image-Process"><span class="post-toc-number">2.</span> <span class="post-toc-text">Image Process</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Get-the-solider’s-postion"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">Get the solider’s postion</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Get-the-next-stop’s-target-position"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">Get the next stop’s target position</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Get-jumpping-distance"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">Get jumpping distance</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Get-the-pressing-time"><span class="post-toc-number">3.</span> <span class="post-toc-text">Get the pressing time</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Have-fun"><span class="post-toc-number">4.</span> <span class="post-toc-text">Have fun</span></a></li></ol>
        </nav>
    </aside>
    
<article id="post-sprint-001-b1-python-script-for-Jumper"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Python script for wechat Jumper</h1>
        <div class="post-meta">
            <time class="post-time" title="2018-01-13 13:08:49" datetime="2018-01-13T05:08:49.000Z"  itemprop="datePublished">2018-01-13</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/python/">python</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <!-- TOC -->
<ul>
<li><a href="#use-python-to-control-android-devices">Use python to control Android devices</a><ul>
<li><a href="#how-adb-works">How adb works</a></li>
<li><a href="#connect-the-android-device-with-adb">Connect the Android Device with ADB</a></li>
<li><a href="#wrapping-adb-command-with-python">Wrapping ADB command with Python</a></li>
</ul>
</li>
<li><a href="#image-process">Image Process</a><ul>
<li><a href="#get-the-soliders-postion">Get the solider’s postion</a></li>
<li><a href="#get-the-next-stops-target-position">Get the next stop’s target position</a></li>
<li><a href="#get-jumpping-distance">Get jumpping distance</a></li>
</ul>
</li>
<li><a href="#get-the-pressing-time">Get the pressing time</a></li>
<li><a href="#have-fun">Have fun</a></li>
</ul>
<!-- /TOC -->
<h2 id="Use-python-to-control-Android-devices"><a href="#Use-python-to-control-Android-devices" class="headerlink" title="Use python to control Android devices"></a>Use python to control Android devices</h2><h3 id="How-adb-works"><a href="#How-adb-works" class="headerlink" title="How adb works"></a>How adb works</h3><p>When you start an adb client, the client first checks whether there is an adb server process already running. If there isn’t, it starts the server process. When the server starts, it binds to local TCP port 5037 and listens for commands sent from adb clients—all adb clients use port 5037 to communicate with the adb server.</p>
<p>The server then sets up connections to all running devices. It locates emulators by scanning odd-numbered ports in the range 5555 to 5585, the range used by the first 16 emulators. Where the server finds an adb daemon (adbd), it sets up a connection to that port. Note that each emulator uses a pair of sequential ports — an even-numbered port for console connections and an odd-numbered port for adb connections. For example:</p>
<p>Emulator 1, console: 5554<br>Emulator 1, adb: 5555<br>Emulator 2, console: 5556<br>Emulator 2, adb: 5557<br>and so on…</p>
<p>As shown, the emulator connected to adb on port 5555 is the same as the emulator whose console listens on port 5554.</p>
<p>Once the server has set up connections to all devices, you can use adb commands to access those devices. Because the server manages connections to devices and handles commands from multiple adb clients, you can control any device from any client (or from a script).</p>
<h3 id="Connect-the-Android-Device-with-ADB"><a href="#Connect-the-Android-Device-with-ADB" class="headerlink" title="Connect the Android Device with ADB"></a>Connect the Android Device with ADB</h3><ol>
<li>install adb server:<ul>
<li>download <a href="http://download.clockworkmod.com/test/UniversalAdbDriverSetup.msi" target="_blank" rel="noopener">UniversalAdbDriverSetup.msi</a> &amp; install</li>
</ul>
</li>
<li><p>let the android device connect adb servr</p>
<ul>
<li><p>add the file folder path which contains <em>adb.exe</em> to your computer’s environment</p>
<p>  <img src="http://project.jumper.matlabchina.cn/junper001.PNG" alt="jumper001"></p>
</li>
<li>start adb server in <em>cmd</em>: <code>adb server</code></li>
<li>enable developer mode in your android device</li>
<li>connect android device with your compuer via usb</li>
<li><p>connect android adb client with adb server:<br>run <code>adb devices</code>, if the device is listed like this，that means you have made it to connect your android devices to adb server:</p>
<pre><code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">        C:\Users\k5tsed&gt;adb devices</span><br><span class="line">        List of devices attached</span><br><span class="line">        b03db687        device</span><br><span class="line">        ```  </span><br><span class="line">    <span class="keyword">else</span>, you shoud check this: [adb怎么连接手机](https://jingyan.baidu.com/article/ce09321b5b76642bff858f31.html)</span><br><span class="line"></span><br><span class="line">Now, you have finished connecting android device with adb server, you can run something adb <span class="built_in">command</span> to control your android devices. For example, you can scrap your screenshot picture with the below <span class="built_in">command</span>:</span><br><span class="line"></span><br><span class="line">```shell</span><br><span class="line">C:\Users\k5d&gt;adb shell screencap /sdcard/screen.png</span><br><span class="line"></span><br><span class="line">C:\Users\k5d&gt;adb pull /sdcard/screen.png D:/screen.png</span><br><span class="line">2878 KB/s (333666 bytes <span class="keyword">in</span> 0.113s)</span><br></pre></td></tr></table></figure>
</code></pre><p>you can see there is a sceenshot picture in your disk.</p>
<p><img src="http://project.jumper.matlabchina.cn/jumper002.png" alt="jumper002"></p>
<p>For more adb command, you can check this: <a href="https://github.com/mzlogin/awesome-adb/blob/master/README.en.md" target="_blank" rel="noopener">Android adb command</a>. But these two commands are enough for us to implement the our cheating program.</p>
</li>
</ul>
</li>
</ol>
<h3 id="Wrapping-ADB-command-with-Python"><a href="#Wrapping-ADB-command-with-Python" class="headerlink" title="Wrapping ADB command with Python"></a>Wrapping ADB command with Python</h3><p>We have successfully use two commands above to scrap the screenshot picture and transfering to our computer. In python, we can import <code>os</code> module to run ADB commands. The <code>os</code> module inlcudes miscellaneous operating system interfaces, it provides a portable way of using operating system dependent functionality</p>
<p><code>os.system(command)</code><br>Execute the command (a string) in a subshell. This is implemented by calling the Standard C function system()</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">adb_wrapper</span>:</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_picture</span><span class="params">(self)</span>:</span></span><br><span class="line">    os.system(<span class="string">'adb shell /system/bin/screencap -p /sdcard/screenshot.png'</span>)</span><br><span class="line">    os.system(<span class="string">'adb pull /sdcard/screenshot.png  ../sources/target.png'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">press</span><span class="params">(self, press_time_ms)</span>:</span></span><br><span class="line">    start_x = str(<span class="number">100</span> + random() * <span class="number">900</span>) + <span class="string">' '</span></span><br><span class="line">    start_y = str(<span class="number">100</span> + random() * <span class="number">1500</span>) + <span class="string">' '</span></span><br><span class="line">    end_x = str(<span class="number">100</span> + random() * <span class="number">900</span>) + <span class="string">' '</span></span><br><span class="line">    end_y = str(<span class="number">100</span> + random() * <span class="number">1500</span>) + <span class="string">' '</span></span><br><span class="line">    press_command = <span class="string">'adb shell input swipe '</span> + start_x + start_y + end_x + end_y + str(press_time_ms)</span><br><span class="line">    os.system(press_command)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">restart</span><span class="params">(self)</span>:</span></span><br><span class="line">    os.system(<span class="string">'adb shell input tap 527 1603'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    adb = adb_wrapper()</span><br><span class="line">    adb.get_picture()</span><br></pre></td></tr></table></figure>
<p><strong><em>press(self, press_time_ms)</em></strong></p>
<p>In order to simulate pressing screen event for a time period, we use <em>swipe</em> event to precisely control the pressing time. The <em>swipe</em> event can simulate the event of swiping from Star_Point to End_Point with presetting time duration, and the time unit is millisecond(MS). Besides, in order to evade the anti-cheating system, we can swipe from a random point to another random point.</p>
<p><strong><em>restart(self)</em></strong></p>
<p>For <em>restart</em> funtion, we use ‘tap’ command to tap the “重新开始” button. With this function, we can restart the game if the program accidentally failed to jump to next stop.</p>
<h2 id="Image-Process"><a href="#Image-Process" class="headerlink" title="Image Process"></a>Image Process</h2><p>As we all known, OpenCV (Open Source Computer Vision Library) is a famous and high-performance library of programming functions mainly aimed at real-time computer vision. With this powerful library, we don’t need to have much knowledge about digital image processing, we can still easily finish the pattern recognition, edge detection and etc. Besides, OpenCV supports the deep learning frameworks TensorFlow, Torch/PyTorch and Caffe.</p>
<p>In the <em>jumper</em> game, the key varaible is the pressing time, and we can easily know it might be in proportion to the distance between the soilder and the next stop. So, we can divide the task into three steps:</p>
<ol>
<li><p><em>get the solider’s postion</em>, get the start point</p>
</li>
<li><p><em>get the next stop’s target position</em>, that’s the end point. Then we can easily get the distance between start point and end point</p>
</li>
<li><p><em>get pressing time</em>, with the distance we get from last step, then it can be multiplied by time-distance coefficientwe to get the pressing time we desire.</p>
</li>
</ol>
<h3 id="Get-the-solider’s-postion"><a href="#Get-the-solider’s-postion" class="headerlink" title="Get the solider’s postion"></a>Get the solider’s postion</h3><p>As we said above, we use OpenCV library to get the start point and end point. But one more thing, before you start use it, you need to install opencv module. You can install it with <em>pip</em> tool:</p>
<p><code>pip install opencv-python opencv</code></p>
<p>This method uses the <a href="https://pypi.python.org/pypi/opencv-python" target="_blank" rel="noopener">unofficial OpenCV PyPi wheels</a> for Linux, Mac and Windows.</p>
<p>If you want OpenCV including the Extra contributed modules, instead do:</p>
<p><code>pip install opencv-contrib-python</code></p>
<p>Now, we can use <code>cv2.matchTemplate()</code> method to search and match the given template from a target image. To get the solider’s position, we can simply use the solider template to match the target simillar area. The return value of <code>cv2.matchTemplate()</code> is the correlation coefficent matrix which is corresponding to the image pixel matrix.</p>
<p>We have grabbed and fecthed the sceenshot of the game through the <em>adb_wrapper</em> tool above to our workspace. Here you can see what it looks like:</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://project.jumper.matlabchina.cn/jumper006.png" alt="jumper006" title="">
                </div>
                <div class="image-caption">jumper006</div>
            </figure>
<p>And the soilder template can be grabbed from any of game screenshot image. It should be like this:</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://project.jumper.matlabchina.cn/jumper005.jpg" alt="jumper005" title="">
                </div>
                <div class="image-caption">jumper005</div>
            </figure>
<p><strong><em>get_solider_pos(self)</em></strong></p>
<p>So, the <em>get_solider_pos</em> function is implemented as below. For more information about <code>cv2.matchTemplate()</code> of OpenCV, you can check this doc.  <a href="https://www.w3cschool.cn/opencv/opencv-pswj2dbc.html" target="_blank" rel="noopener">OpenCV模板匹配</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_solider_pos</span><span class="params">(self)</span>:</span></span><br><span class="line">    chess = cv2.imread(<span class="string">"../sources/solider.png"</span>)</span><br><span class="line">    self.target_image = cv2.imread(<span class="string">'../sources/target.png'</span>)</span><br><span class="line"></span><br><span class="line">    res = cv2.matchTemplate(self.target_image, chess, cv2.TM_CCOEFF_NORMED)</span><br><span class="line">    min_val, max_val, min_loc, max_loc = cv2.minMaxLoc(res)</span><br><span class="line">    self.max_loc = max_loc</span><br><span class="line">    top_left = max_loc</span><br><span class="line">    center1_loc = (max_loc[<span class="number">0</span>] + <span class="number">39</span>, max_loc[<span class="number">1</span>] + <span class="number">189</span>)</span><br><span class="line">    <span class="comment"># self.mark_image = cv2.circle(self.target_image, center1_loc, 30, (255, 0, 0), 3)</span></span><br><span class="line">    self.mark_image = cv2.rectangle(self.target_image, max_loc, (max_loc[<span class="number">0</span>] + <span class="number">75</span>, max_loc[<span class="number">1</span>] + <span class="number">192</span>),</span><br><span class="line">                                    (<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">2</span>)</span><br><span class="line">    cv2.imwrite(<span class="string">'../sources/chess_mark.png'</span>, self.mark_image)</span><br><span class="line">    <span class="keyword">return</span> max_val, center1_loc</span><br></pre></td></tr></table></figure>
<p>After we get the correlation coefficent matrix, we can use <code>cv2.minMaxLoc()</code> to find the <code>min_val</code>, <code>max_val</code> and its’ corresponding <code>min_loc</code>, <code>max_loc</code> of the matrix. It is noted that there are several matching algorithm in the <code>cv2.matchTemplate()</code> function, but <strong>the different algorithm have different meaning of <code>max_loc</code></strong>. With the <code>cv2.TM_CCOEFF_NORMED</code> algorithm, the <code>max_loc</code> means the top left corner of the matching target. But other matching algorithm may means rigth bottom corner. So, please be noted.</p>
<p>After we get the target matching object’s top left corner’s coordinate, we can translate a fixed number of pixels to get the coordinate of the solider’s bottom center coordinate. In this way, the matching result should look like this:</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://project.jumper.matlabchina.cn/chess_mark.png" alt="jumper003" title="">
                </div>
                <div class="image-caption">jumper003</div>
            </figure>
<h3 id="Get-the-next-stop’s-target-position"><a href="#Get-the-next-stop’s-target-position" class="headerlink" title="Get the next stop’s target position"></a>Get the next stop’s target position</h3><p>To get next stop’s target position, we need to find the next stop’s object, and get the central point of the object. But the next stop’s object include box, desk, and etc. so, we can’t use template matching algorithm. So, my solution is using edge detection to find next object.</p>
<p><strong><em>get_dest(self):</em></strong></p>
<ol>
<li><p>Before edge detection, we need to use image fuzzy algorithm to make the objects’ edge more clear. Here we use <code>cv2.GaussianBlur()</code> function to implement that.</p>
<p> 高斯模糊<br> 在某些情况下，需要对一个像素的周围的像素给予更多的重视。因此，可通过分配权重来重新计算这些周围点的值。这可通过高斯函数（钟形函数，即喇叭形数）的权重方案来解决。cv::GaussianBlur函数可作为滤波器用下面的方法调用：</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">img_rgb = cv2.GaussianBlur(self.target_image, (<span class="number">5</span>, <span class="number">5</span>), <span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<p> 区别<br> 低通滤波与高斯滤波的不同之处在于：低通滤波中，滤波器中每个像素的权重是相同的，即滤波器是线性的。而高斯滤波器中像素的权重与其距中心像素的距离成比例。</p>
<p> 这里(5, 5)表示高斯矩阵的长与宽都是5，标准差取0时OpenCV会根据高斯矩阵的尺寸自己计算。概括地讲，高斯矩阵的尺寸越大，标准差越大，处理过的图像模糊程度越大。</p>
<p> <img src="http://project.jumper.matlabchina.cn/GaussianBlur.png" alt="jumper003"></p>
</li>
<li><p>Next, we can use the fuzzied image to get the edge image with <code>cv2.Canny()</code> function. The edge image would be like this if your parameter is proper.</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">edge = cv2.Canny(image, threshold1, threshold2[, edges[, apertureSize[, L2gradient ]]])</span><br></pre></td></tr></table></figure>
<p> 必要参数：<br> 第一个参数是需要处理的原图像，该图像必须为单通道的灰度图；<br> 第二个参数是阈值1；<br> 第三个参数是阈值2。<br> 其中较大的阈值2用于检测图像中明显的边缘，但一般情况下检测的效果不会那么完美，边缘检测出来是断断续续的。所以这时候用较小的第一个阈值用于将这些间断的边缘连接起来。</p>
<p> <img src="http://project.jumper.matlabchina.cn/edge_match.png" alt="jumper004"></p>
</li>
<li><p>Now, we can get the top point of next target, because the next target’s top edge point is also the top point of the whole image. We can scan each row of the edge image from up to down to get the top non-zero point. By finding this top non-zero point, we can successfully get the next obejct’s top point. Then, we can find the central point of target object from this point.</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.nonzero(a)</span><br></pre></td></tr></table></figure>
<p> 返回数组a中非零元素的索引值数组。</p>
<p> (1) 只有a中非零元素才会有索引值，那些零值元素没有索引值；<br> (2) 返回的索引值数组是一个2维tuple数组，该tuple数组中包含一维的array数组。其中，一维array向量的个数与a的维数是一致的。</p>
<p> <img src="http://project.jumper.matlabchina.cn/top_img.png" alt="top_img"></p>
</li>
<li><p>After we get the coordinate of top non-zero point, we can start from this top point to shift downward about 40px(or some other numer of pixels), we assue that point was the central point of the target object, first. Then, we get the vertical coordinate(assumed_center_y). Next, we can get the index average of the assumed_center_y-th row from edge image. That’s approximately the center point’s horizontal coordinate.</p>
<p> <img src="http://project.jumper.matlabchina.cn/assumed_center.png" alt="assumed_center"></p>
</li>
<li><p>Since we have got assumed center point’s coordinates, we can easily see the above result that the assumed_center_x is very close to our target’s real center point’s horizontal coordinate. So, we can regard this horizontal coordinate as the center_x coordinate. Next, we still need scan from the row of assumed center-point to the bottom of the edge image to get the next non-zero point, that’s exactly the another edge point(bottom point) of target object. Now, we have got the top point and the bottom point of the target object, we can get the average vertical coordinates of these two points, that’s exactly the center-y coordinate.</p>
<p> <img src="http://project.jumper.matlabchina.cn/real_center.png" alt="real_center"></p>
</li>
<li><p>Cheer up…. we finally get the center point of next stop. But you can find that before I search the top point of the object, I split the image into left_image and right_image. Why do I do this?<br>Because in some situation, the next stop’s object is very small, its’ top edge point might be lowwer than the solider’s top edge point. So, I split the image into two images and search each images’ top non-zero point. So, we can compare these two top point, the next object’s top point’s index is smaller than the fake one.</p>
<p> <img src="http://project.jumper.matlabchina.cn/split_img.png" alt="split_img"></p>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_dest</span><span class="params">(self)</span>:</span></span><br><span class="line">    blur_img = cv2.GaussianBlur(self.target_image, (<span class="number">5</span>, <span class="number">5</span>), <span class="number">0</span>)</span><br><span class="line">    cv2.imwrite(<span class="string">'../sources/GaussianBlur.png'</span>, blur_img)</span><br><span class="line">    canny_img = cv2.Canny(blur_img, <span class="number">1</span>, <span class="number">11</span>)</span><br><span class="line">    cv2.imwrite(<span class="string">'../sources/edge_match.png'</span>, canny_img)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># split the image into two images</span></span><br><span class="line">    left_x_end = self.max_loc[<span class="number">0</span>] - <span class="number">10</span></span><br><span class="line">    right_x_start = self.max_loc[<span class="number">0</span>] + <span class="number">78</span></span><br><span class="line"></span><br><span class="line">    left_image = canny_img[<span class="number">400</span>:, :left_x_end]</span><br><span class="line">    right_image = canny_img[<span class="number">400</span>:, right_x_start:]</span><br><span class="line"></span><br><span class="line">    self.mark_image = cv2.rectangle(self.target_image, (<span class="number">0</span>, <span class="number">0</span>), (self.max_loc[<span class="number">0</span>], <span class="number">1920</span>), <span class="number">255</span>, <span class="number">2</span>)</span><br><span class="line">    self.mark_image = cv2.rectangle(self.target_image, (right_x_start, <span class="number">0</span>), (<span class="number">1080</span>, <span class="number">1920</span>), <span class="number">255</span>, <span class="number">2</span>)</span><br><span class="line">    cv2.imwrite(<span class="string">'../sources/split_img.png'</span>, self.mark_image)</span><br><span class="line">    <span class="comment"># test</span></span><br><span class="line">    <span class="comment"># x = [max(row) for row in left_image]  # get each row's max vlaue to a single value list</span></span><br><span class="line">    <span class="comment"># y = np.nonzero(x)  # get non zero value's index</span></span><br><span class="line">    <span class="comment"># print(y)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># find the top non zero point, that's edge of dest object</span></span><br><span class="line">    left_non_zero_y_index = np.nonzero([max(row) <span class="keyword">for</span> row <span class="keyword">in</span> left_image])[<span class="number">0</span>]</span><br><span class="line">    right_non_zero_y_index = np.nonzero([max(row) <span class="keyword">for</span> row <span class="keyword">in</span> right_image])[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># get the x_top, y_top</span></span><br><span class="line">    y_top = <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> left_non_zero_y_index.size == <span class="number">0</span> <span class="keyword">or</span> (</span><br><span class="line">                        left_non_zero_y_index.size &gt; <span class="number">0</span> <span class="keyword">and</span> right_non_zero_y_index.size &gt; <span class="number">0</span></span><br><span class="line">            <span class="keyword">and</span> left_non_zero_y_index[<span class="number">0</span>] &gt; right_non_zero_y_index[<span class="number">0</span>]):</span><br><span class="line">        y_top = right_non_zero_y_index[<span class="number">0</span>] + <span class="number">400</span></span><br><span class="line">        x_top = int(np.mean(np.nonzero(right_image[right_non_zero_y_index[<span class="number">0</span>]]))) + right_x_start</span><br><span class="line">        self.next_direction = <span class="string">'right'</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        y_top = left_non_zero_y_index[<span class="number">0</span>] + <span class="number">400</span></span><br><span class="line">        x_top = int(np.mean(np.nonzero(left_image[left_non_zero_y_index[<span class="number">0</span>]])))</span><br><span class="line">        self.next_direction = <span class="string">'left'</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># find the bottom of the dest object</span></span><br><span class="line">    y_bottom = y_top + <span class="number">40</span></span><br><span class="line">    H, W = canny_img.shape</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> range(y_bottom, H):</span><br><span class="line">        <span class="keyword">if</span> canny_img[row, x_top] != <span class="number">0</span>:</span><br><span class="line">            y_bottom = row</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># get the central point of the object</span></span><br><span class="line">    x_center, y_center = x_top, (y_top + y_bottom) // <span class="number">2</span></span><br><span class="line">    self.mark_image = cv2.circle(self.mark_image, (x_center, y_center), <span class="number">10</span>, (<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>), <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    cv2.imwrite(<span class="string">'../sources/chess_and_dest_mark.png'</span>, self.mark_image)</span><br><span class="line">    <span class="keyword">return</span> x_center, y_center</span><br></pre></td></tr></table></figure>
<h3 id="Get-jumpping-distance"><a href="#Get-jumpping-distance" class="headerlink" title="Get jumpping distance"></a>Get jumpping distance</h3><p>Finally, We got the distance betwen the target object and jumpping start point, which we can see the processed result like this:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_distance</span><span class="params">(self, solder_pos)</span>:</span></span><br><span class="line">    dest_x_center, dest_y_center = self.get_dest()</span><br><span class="line">    self.mark_image = cv2.line(self.target_image, solder_pos, (dest_x_center, dest_y_center),(<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">2</span>)</span><br><span class="line">    cv2.imwrite(<span class="string">'../sources/link_img.png'</span>, self.mark_image)</span><br><span class="line">    distance = ((dest_x_center - solder_pos[<span class="number">0</span>]) ** <span class="number">2</span> + (dest_x_center - solder_pos[<span class="number">1</span>]) ** <span class="number">2</span>) ** <span class="number">0.5</span></span><br><span class="line">    <span class="keyword">return</span> distance</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://project.jumper.matlabchina.cn/link_img.png" alt="jumper004" title="">
                </div>
                <div class="image-caption">jumper004</div>
            </figure>
<h2 id="Get-the-pressing-time"><a href="#Get-the-pressing-time" class="headerlink" title="Get the pressing time"></a>Get the pressing time</h2><p>If you think the most difficult thing is getting the distance, I’m gonna to say “don’t be navie, pls”. Actually, distance is not exactly proportional to time, they are in nonlinear relation. So, your must get enough samples to get fitting function.</p>
<p>Besides, Due to the phenomenon of perspective, the sample distance in 2-D image, but in different directions, actually represent very different actually distance. So, you need to fit different functions in different directions.</p>
<p><strong><em>get_press_time(self, solder_pos)</em></strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_press_time</span><span class="params">(self, solder_pos)</span>:</span></span><br><span class="line">    distance = self.get_distance(solder_pos)</span><br><span class="line">    print(<span class="string">"oringin distance:"</span> + str(distance))</span><br><span class="line">    <span class="keyword">if</span> self.next_direction == <span class="string">'left'</span>:</span><br><span class="line">        ratio = (<span class="number">0.00345</span> * distance - <span class="number">0.6009</span>) * <span class="number">0.35</span></span><br><span class="line">        <span class="comment"># ratio = (distance * 0.001205 + 0.5295) / 1.356</span></span><br><span class="line">        <span class="comment"># if ratio &gt;= 1.05:</span></span><br><span class="line">        <span class="comment">#     ratio = 1.012</span></span><br><span class="line">        <span class="comment"># if distance &lt;= 400:</span></span><br><span class="line">        <span class="comment">#     ratio *= 0.9</span></span><br><span class="line">        <span class="keyword">if</span> ratio &gt;= <span class="number">0.832</span>:</span><br><span class="line">            ratio = <span class="number">0.832</span></span><br><span class="line">        print(<span class="string">"left ratio: "</span> + str(ratio))</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># ratio = 1.373</span></span><br><span class="line">        <span class="comment"># ratio = distance * 0.001525 + 0.7505</span></span><br><span class="line">        <span class="comment"># if ratio &gt;= 1.51:</span></span><br><span class="line">        <span class="comment">#     ratio = 1.49</span></span><br><span class="line">        <span class="comment"># if distance &lt;= 350:</span></span><br><span class="line">        <span class="comment">#     ratio *= 0.9</span></span><br><span class="line">        <span class="comment"># ratio = -0.0014 * distance + 2.0774</span></span><br><span class="line">        ratio = <span class="number">-0.00003</span> * (distance ** <span class="number">2</span>) + <span class="number">0.0314</span> * (distance) - <span class="number">7.3992</span></span><br><span class="line">        <span class="comment"># ratio = (-0.0425) * ((distance // 100) ** 2) + 0.3535 * (distance // 100) + 0.5675</span></span><br><span class="line">        <span class="keyword">if</span> ratio &gt;= <span class="number">1.35</span>:</span><br><span class="line">            ratio = <span class="number">1.35</span></span><br><span class="line">        print(<span class="string">"right ratio: "</span> + str(ratio))</span><br><span class="line">    press_time = int(distance * ratio)</span><br><span class="line">    <span class="keyword">return</span> press_time</span><br></pre></td></tr></table></figure>
<h2 id="Have-fun"><a href="#Have-fun" class="headerlink" title="Have fun"></a>Have fun</h2><p>Now, you can have fun with this lillte cheating program. But pls <strong>don’t be evil</strong> (๑╹◡╹)ﾉ”””</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://project.jumper.matlabchina.cn/score.jpg" alt="score" title="">
                </div>
                <div class="image-caption">score</div>
            </figure>
        </div>

        <blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2018-01-30T05:37:51.357Z" itemprop="dateUpdated">2018-01-30 13:37:51</time>
</span><br>


        
        No one can guide you, except yourself!     self-link：<a href="/2018/01/13/sprint-001-b1-python-script-for-Jumper/" target="_blank" rel="external">http://matlabchina.cn/2018/01/13/sprint-001-b1-python-script-for-Jumper/</a>
        
    </div>
    <footer>
        <a href="http://matlabchina.cn">
            <img src="/img/logo.jpg" alt="Quincey Svng">
            Quincey Svng
        </a>
    </footer>
</blockquote>

        


        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Jumper/">Jumper</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://matlabchina.cn/2018/01/13/sprint-001-b1-python-script-for-Jumper/&title=《Python script for wechat Jumper》 — Quincey&pic=http://matlabchina.cn/img/logo.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://matlabchina.cn/2018/01/13/sprint-001-b1-python-script-for-Jumper/&title=《Python script for wechat Jumper》 — Quincey&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://matlabchina.cn/2018/01/13/sprint-001-b1-python-script-for-Jumper/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Python script for wechat Jumper》 — Quincey&url=http://matlabchina.cn/2018/01/13/sprint-001-b1-python-script-for-Jumper/&via=http://matlabchina.cn" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://matlabchina.cn/2018/01/13/sprint-001-b1-python-script-for-Jumper/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2018/01/20/神经网络与深度学习-第三章-深度学习是个什么东西/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">神经网络与深度学习 第三章 深度学习是个什么东西</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2018/01/13/sprint-001-图解HTTP/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">sprint 001: 图解HTTP</h4>
      </a>
    </div>
  
</nav>



    








<section class="comments" id="comments">
    <div id="gitment_thread"></div>
    <link rel="stylesheet" href="//unpkg.com/gitment/style/default.css">
    <script src="//unpkg.com/gitment/dist/gitment.browser.js"></script>
    <script>
        var gitment = new Gitment({
            owner: 'SuperFireFoxy',
            repo: 'superfirefoxy.github.io',
            oauth: {
                client_id: 'f79ac80faa3d2c58bf61',
                client_secret: '655a9b1df478169a0c1f83cc4cc6b537873db4e3',
            },
        })
        gitment.render('comments')
    </script>
</section>







</article>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>This blog is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</span>
        </p>
    </div>
    <div class="bottom">
        <p><span>Quincey Svng &copy; 2017 - 2018</span>
            <span>
                
                <a href="http://www.miitbeian.gov.cn/" target="_blank">蜀ICP备16009264号-1</a><br>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://matlabchina.cn/2018/01/13/sprint-001-b1-python-script-for-Jumper/&title=《Python script for wechat Jumper》 — Quincey&pic=http://matlabchina.cn/img/logo.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://matlabchina.cn/2018/01/13/sprint-001-b1-python-script-for-Jumper/&title=《Python script for wechat Jumper》 — Quincey&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://matlabchina.cn/2018/01/13/sprint-001-b1-python-script-for-Jumper/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Python script for wechat Jumper》 — Quincey&url=http://matlabchina.cn/2018/01/13/sprint-001-b1-python-script-for-Jumper/&via=http://matlabchina.cn" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://matlabchina.cn/2018/01/13/sprint-001-b1-python-script-for-Jumper/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACrklEQVR42u3aUW7rMAwEwNz/0n0HKJy3S0pBCoy/jFaJNfowGZKvV3z9BNds/dN98t9jFx4eHt7Rrf9e834r+Xbzpz9Rk0/h4eHh3eM9vVGT+1mQeL+mPbjHv+Ph4eF9MS/5hv3R4OHh4f1FXvLgPJlOqgd5YQIPDw/vk7y82Jq/6N+vn4WQi7UWPDw8vJiXd5G+5/5Kfw8PDw/v0EDALEVut7IJA4+7xcPDw7vAy7eyP4g2aU7S9Pf7xMPDw7vBmyW1s83lpeE2YDze4+Hh4V3jnSra5k2pfPigDSR1Jw0PDw9vxMuHAxLGbOvJc/NP4eHh4d3jteFhXyaYPXFVMsbDw8O7xtsUCBJAW5JIQkLdAMPDw8Nb89pgkCTKeeE1X9Me7vCr8fDw8OLMM381FyWA+HvaYkS7Bzw8PLyzvHzppvXVDihswsPjZAQeHh7eBd6slDAr+LbX8LDw8PDwLvDaYJCXG2bfmTfVivV4eHh413izR24YedmiTfTx8PDwPsPLX8RJuWG2cl+qeJyMwMPDwzvES1rvs+ZWPl6QH2hyHHh4eHi3efmiPABsRrXaBL0eIMDDw8M7ytsPVM1e93kwGAYbPDw8vAu82WOSvyejA6eCSoHEw8PDu8BLqPm41ez1PUvr24PDw8PDm/HaUadZ66tu+Zd7iH4x4OHh4V3gbX7k56NU7aeGrS88PDy8j/P2BYVkcKrO8ctwhYeHh3eW91NebYKbJ9ltQy46Vjw8PLwLvLN9omT4oC0ltOXjYYDBw8PDK3mnfvxvhrfe7yQ5jqgYgYeHh3eUtykl5GuSA3otLjw8PLzv5M0Kr7OQ044j4OHh4f0V3qmEe8P+z9AVHh4e3gVeXghoZxPasa0kTS8aY3h4eHgXeKvBpvgxbesrT9/3JQw8PDy8mPcPkSMDJ8m8P9MAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>



<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" async></script>




<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = 'woops, lost connnection！';
            clearTimeout(titleTime);
        } else {
            document.title = 'bow, chaka bow boom!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
